# О репозитории 
В этом репозитории - моя первая реализация REST API. Она выполнена на языке Python с использованием фреймворка Flask. 
Проект представляет из себя несложное CRUD (Create Read Update Delete) приложение, работающее с данными о звонках в службу спасения.
# В этом репозитории
- *src* - исходный код на Python:
  - *flask_app.py* - основной код flask-приложения
  - *create_row.py* - скрипт для добавления новой строки (POST-запроса)
  - *update_row.py* - скрипт для изменения существующей строки (PUT-запроса)
- *static* - JS-скрипты
- *templates* - "шаблоны", конкретно в данном случае одна небольшая HTML-страничка, "главная" страница приложения
- *requirements.txt* - зависимости и библиотеки проекта
- *.gitignore* - в представлении не нуждается
# Как работает
## Краткое описание
Как уже было сказано, это простейшее CRUD-приложение, работающее с данными о звонках в службу спасения. Данные взяты с сайта 
kaggle.com, конкретно использовался вот этот датасет - https://www.kaggle.com/datasets/mchirico/montcoalert

В целях демонстрации дело ограничилось первыми десятью записями датасета. Данные были предварительно подготовлены - убраны некоторые поля, и внесены в локальную БД.
Собственно оттуда они и вытягиваются. Путь к файлу .db и изначальному датасету .csv скрыты с помощью переменных окружения. Для работы с БД была выбрана библиотека sqlite. 

В целях безопасности реализованы параметризованные запросы. Пример:
<img width="829" alt="image" src="https://github.com/user-attachments/assets/29c14a7a-cb06-4ce5-a2ae-5e4c06591f00">


## Функционал
**Предусмотрены следующие функции**:
1. Просмотр всех записей таблицы (GET /api/rows)
2. Просмотр одной записи по id - записям присвоены id, начиная с 1 (GET /api/rows/<ROW_ID>)
3. Добавление новой записи (POST /api/rows - **возможно только посредством запуска скрипта create_row.py**)
4. Удаление существующей записи (DELETE /api/rows/<ROW_ID>)
5. Изменение существующей записи (PUT /api/rows/<ROW_ID> - **возможно только посредством запуска скрипта update_row.py**)
6. Просмотр количества звонков в службу спасения за конкретный час (GET /api/rows/<HOUR_ID>)
7. Восстановление первоначального вида записей (GET /api/rows/restore)

## Пара скринов для демонстрации
Главная страница приложения:

<img width="1439" alt="image" src="https://github.com/user-attachments/assets/6e6fe869-e4aa-4b74-beda-c7919f09ae98">

Просмотр записи по id:

<img width="651" alt="image" src="https://github.com/user-attachments/assets/12337fcb-596b-444e-b12f-abbd0768649d">

Доавбление записи (самая последняя, с id 11 и городом MOSCOW):

<img width="554" alt="image" src="https://github.com/user-attachments/assets/7399e70c-008b-4eb7-b079-2e9e0a851280">

# Идеи по развитию
1. Упаковать проект в докер-образ - чтобы все могли пощупать его
2. Обработать все проблемные случаи при использовании методов:
  - удаление несуществующих записей
  - изменение несуществующих записей
  - и т д
